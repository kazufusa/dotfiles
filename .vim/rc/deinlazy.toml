[[plugins]]
repo = 'thinca/vim-quickrun'
on_map = {n = '<Plug>'}
hook_add = 'nmap <silent> <Leader>r <Plug>(quickrun)'

[[plugins]]
repo = 'thinca/vim-ref'
on_map = '<C-e>'
hook_source = '''
source ~/.vim/rc/plugins/ref.rc.vim
'''

[[plugins]]
repo = 'junegunn/fzf'
on_cmd = ['FZF','fzf#run']

[[plugins]]
repo = 'junegunn/fzf.vim'
depends = 'fzf'
on_cmd = ['Fzf','fzf#run']
hook_add = '''
let g:fzf_layout = { 'down': '~30%' }
let g:fzf_command_prefix = 'Fzf'
command! FzfFiles2 call fzf#run({
  \  'source' : 'ag --hidden --ignore .git --ignore node_modules --ignore vendor/bundle -g .',
  \  'dir'    : '.',
  \  'sink'   : 'e',
  \  'options': '-m -x +s',
  \  'down'   : '30%'})
command! FzfGitFiles2 call fzf#run({
  \  'source' : 'ag --hidden --ignore .git --ignore node_modules --ignore vendor/bundle -g .',
  \  'dir'    : system('git rev-parse --show-toplevel 2>/dev/null|| pwd'),
  \  'sink'   : 'e',
  \  'options': '-m -x +s',
  \  'down'   : '30%'})
nnoremap <silent><C-f>a :<C-u>FzfFiles2<CR>
nnoremap <silent><C-f>m :<C-u>FzfHistory<CR>
nnoremap <silent><C-f>f :<C-u>FzfGitFiles2<CR>
nnoremap <silent><C-f>b :<C-u>FzfBuffers<CR>
'''

[[plugins]]
repo = 'fatih/vim-go'
on_ft = 'go'
hook_add = '''
let g:go_fmt_command = "goimports"
let g:go_highlight_functions = 1
let g:go_highlight_methods = 1
let g:go_highlight_structs = 1
let g:go_highlight_operators = 1
let g:go_term_enabled = 1
let g:go_highlight_build_constraints = 1
nmap <silent> <Leader>t <Plug>(go-test)
'''

[[plugins]]
repo = 'elzr/vim-json'
on_ft = 'json'

[[plugins]]
# repo = 'altercation/vim-colors-solarized'
# repo = 'w0ng/vim-hybrid'
repo = 'itchyny/landscape.vim'
on_event = ['VimEnter']
hook_post_source = '''
colorscheme landscape
'''

[[plugins]]
repo = 'Shougo/context_filetype.vim'

[[plugins]]
repo = 'Shougo/neocomplete.vim'
depends = 'context_filetype.vim'
if = "has('lua')"
on_event = 'InsertEnter'
hook_source = '''
  let g:neocomplete#enable_at_startup = 1
  source ~/.vim/rc/plugins/neocomplete.rc.vim
'''

[[plugins]]
repo = 'Shougo/neosnippet.vim'
depends = ['neosnippet-snippets', 'context_filetype.vim']
on_event = 'InsertCharPre'
on_ft = 'snippet'
hook_source = '''
source ~/.vim/rc/plugins/neosnippet.rc.vim
'''

[[plugins]]
repo = 'junegunn/vim-easy-align'
on_event = ['VimEnter']
hook_post_source = '''
vmap E <Plug>(EasyAlign)
'''

[[plugins]]
repo = 'tomtom/tcomment_vim'
on_event = ['VimEnter']
hook_post_source = '''
let g:tcommentMapLeader1 = ''
let g:tcommentMapLeader2 = ''
nnoremap <silent> __ :TComment<CR>
vnoremap <silent> __ :TComment<CR>
nmap <silent> gc <Plug>TComment-gc
'''

[[plugins]]
repo = 'rcmdnk/vim-markdown'
on_ft = ['markdown', 'mkd']
hook_add = '''
let g:vim_markdown_folding_disabled=1
'''

[[plugins]]
repo = 'minerva1129/previm'
depends = ['vim-markdown', 'open-browser.vim']
on_ft = ['markdown', 'mkd']

[[plugins]]
repo = 'scrooloose/syntastic'
on_ft = ['javascript', 'ruby', 'c', 'rust']
hook_add = '''
set statusline+=%#warningmsg#
set statusline+=%{SyntasticStatuslineFlag()}
set statusline+=%*

let s:eslint_path = system('PATH=$(npm bin):$PATH && which eslint')
let b:syntastic_javascript_eslint_exec = substitute(s:eslint_path, '^\n*\s*\(.\{-}\)\n*\s*$', '\1', '')
let g:syntastic_javascript_checkers=['eslint']

let g:syntastic_always_populate_loc_list = 1
let g:syntastic_auto_loc_list = 1
let g:syntastic_check_on_open = 1
let g:syntastic_check_on_wq = 0

let g:syntastic_rust_rustc_exe = 'cargo check'
let g:syntastic_rust_rustc_fname = ''
let g:syntastic_rust_checkers = ['rustc']
'''

[[plugins]]
repo = 'rust-lang/rust.vim'
on_ft = ['rust']
hook_add = '''
set hidden
'''

[[plugins]]
repo = 'udalov/kotlin-vim'
on_ft = ['kt', 'kotlin']

[[plugins]]
repo = 'racer-rust/vim-racer'
on_ft = ['rust']
hook_add = '''
let g:rustfmt_autosave = 1
au FileType rust nmap gd <Plug>(rust-def)
au FileType rust nmap gs <Plug>(rust-def-split)
au FileType rust nmap gx <Plug>(rust-def-vertical)
au FileType rust nmap <leader>gd <Plug>(rust-doc)
'''
