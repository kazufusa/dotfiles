" let
let mapleader=","

" Ctrl + jjkl でウィンドウ間を移動
nmap <C-h> <C-w>h
nmap <C-j> <C-w>j
nmap <C-k> <C-w>k
nmap <C-l> <C-w>l
" map
" ctrlをspaceで置き換える
noremap <SPACE>a <C-a>
noremap <SPACE>b <C-b>
noremap <SPACE>c <C-c>
noremap <SPACE>d <C-d>
noremap <SPACE>e <C-e>
noremap <SPACE>f <C-f>
noremap <SPACE>g <C-g>
noremap <SPACE>i <C-i>
noremap <SPACE>m <C-m>
noremap <SPACE>n <C-n>
noremap <SPACE>o <C-o>
noremap <SPACE>p <C-p>
noremap <SPACE>q <C-q>
noremap <SPACE>r <C-r>
noremap <SPACE>s <C-s>
noremap <SPACE>t <C-t>
noremap <SPACE>u <C-u>
noremap <SPACE>v <C-v>
noremap <SPACE>w <C-w>
noremap <SPACE>x <C-x>
noremap <SPACE>y <C-y>
noremap <SPACE>z <C-z>
noremap 0 $
noremap 1 ^
noremap <SPACE>h <C-w>h
noremap <SPACE>j <C-w>j
noremap <SPACE>k <C-w>k
noremap <SPACE>l <C-w>l

" カーソル下の単語を * で検索
noremap <silent> * "vy/\V<C-r>=substitute(escape(@v, '\/'), "\n", '\\n', 'g')<CR><CR>
" TABにて対応ペアにジャンプ
noremap <Tab> %

" inoremap
" 入力モード中に素早くjjと入力した場合はESCとみなす
inoremap jj <Esc>

" vnoremap
" vを二回で行末まで選択
vnoremap v $h

" nnoremap
nnoremap <Space>q :q<CR>
nnoremap <Space>a :qa<CR>
nnoremap <Space>o :only<CR>
nnoremap j gj
nnoremap k gk
nnoremap <Down> gj
nnoremap <Up>   gk
 " ESCを二回押すことでハイライトを消す
nnoremap <silent> <Esc><Esc> :nohlsearch<CR>
" 検索後にジャンプした際に検索単語を画面中央に持ってくる
nnoremap n nzz
nnoremap N Nzz
nnoremap * *zz
nnoremap # #zz
nnoremap g* g*zz
nnoremap g# g#zz
" j, k による移動を折り返されたテキストでも自然に振る舞うように変更
nnoremap j gj
nnoremap k gk
" Shift + 矢印でウィンドウサイズを変更
nnoremap <S-Left>  <C-w><<CR>
nnoremap <S-Right> <C-w>><CR>
nnoremap <S-Up>    <C-w>-<CR>
nnoremap <S-Down>  <C-w>+<CR>
" T + ? で各種設定をトグル
nnoremap [toggle] <Nop>
nnoremap T [toggle]
nnoremap <silent> [toggle]s :setl spell!<CR>:setl spell?<CR>
nnoremap <silent> [toggle]l :setl list!<CR>:setl list?<CR>
nnoremap <silent> [toggle]t :setl expandtab!<CR>:setl expandtab?<CR>
nnoremap <silent> [toggle]w :setl wrap!<CR>:setl wrap?<CR>

" cmap
" w!! でスーパーユーザーとして保存（sudoが使える環境限定）
cnoremap w!! w !sudo tee > /dev/null %

"macro
" set continuous number (ex. input "4co")
nnoremap <silent> co :ContinuousNumber <C-a><CR>
vnoremap <silent> co :ContinuousNumber <C-a><CR>
command! -count -nargs=1 ContinuousNumber let c = col('.')|for n in range(1, <count>?<count>-line('.'):1)|exec 'normal! j' . n . <q-args>|call cursor('.', c)|endfor
